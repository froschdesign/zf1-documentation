<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
    Zend_Json_Server - JSON-RPC server - Zend_Json &ndash; Documentation of ZF1 - Zend Framework
</title>
    <link rel="stylesheet" href="https://froschdesign.github.io/zend-documentation-showcase/css/styles.css">
    <link rel="stylesheet" href="/css/main.css">
</head>
<body id="page-top">
<div class="navbar navbar-default" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <span class="navbar-brand">
                <a class="logo-link" href="https://framework.zend.com/" data-tooltip data-placement="bottom" title="Go to the ZF homepage">
                    <img src="https://docs.zendframework.com/tutorials/img/zend-framework-logo.svg" height="28" alt="Zend Framework">
                </a>
            </span>
        </div>

        <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="https://framework.zend.com/about">About</a>
                </li>
                <li>
                    <a href="https://framework.zend.com/downloads">Install</a>
                </li>
                <li class="active">
                    <a href="https://docs.zendframework.com">Documentation</a>
                </li>
                <li>
                    <a href="https://www.zend.com/en/services/training">Training</a>
                </li>
                <li>
                    <a href="https://framework.zend.com/blog">Blog</a>
                </li>
                <li>
                    <a href="https://framework.zend.com/participate">Participate</a>
                </li>
            </ul>
        </div>
    </div>
</div>
<header class="header">
    <div class="container">
        <div class="row">
            <div class="col-xs-8">
                <h1 class="header__title">
                    Documentation
                    <small class="header__subtitle">ZF1</small>
                </h1>
            </div>
        </div>
    </div>
</header>
<div class="container">
    <div class="row">
        
    
<div class="col-md-9 col-xs-12 content" role="main"><p class="alert alert-warning" role="alert">
    <strong>Caution:</strong> The documentation you are viewing is
    for an older version of Zend Framework.<br>
    You can find the documentation of the current version at:
    <br>
    <a href="https://docs.zendframework.com/">
        https://docs.zendframework.com/    </a>
</p>
            <div id="zend.json.server" class="section">
                <div class="info">
                    <h1 class="title">
                        Zend_Json_Server - JSON-RPC server
                    </h1>
                </div>
                <p class="para">
                    <span class="classname">Zend_Json_Server</span> is a <a href="http://groups.google.com/group/json-rpc/" class="link external">&raquo; JSON-RPC</a> server implementation. It supports both the <a href="http://json-rpc.org/wiki/specification" class="link external">&raquo; JSON-RPC version 1 specification</a> as well as the <a href="http://groups.google.com/group/json-rpc/web/json-rpc-1-2-proposal" class="link external">&raquo; version 2 specification</a>; additionally, it provides a <acronym class="acronym">PHP</acronym> implementation of the <a href="http://groups.google.com/group/json-schema/web/service-mapping-description-proposal" class="link external">&raquo; Service Mapping Description (SMD) specification</a> for providing service metadata to service consumers.
                </p>
                <p class="para">
                    JSON-RPC is a lightweight Remote Procedure Call protocol that utilizes <acronym class="acronym">JSON</acronym> for its messaging envelopes. This JSON-RPC implementation follows <acronym class="acronym">PHP</acronym>'s <a href="http://www.php.net/manual/en/class.soapserver.php" class="link external">&raquo; SoapServer</a> <acronym class="acronym">API</acronym>. This means, in a typical situation, you will simply:
                </p>
                <ul class="itemizedlist">
                    <li class="listitem">
                        <p class="para">
                            Instantiate the server object
                        </p>
                    </li>
                    <li class="listitem">
                        <p class="para">
                            Attach one or more functions and/or classes/objects to the server object
                        </p>
                    </li>
                    <li class="listitem">
                        <p class="para">
                            handle() the request
                        </p>
                    </li>
                </ul>
                <p class="para">
                    <span class="classname">Zend_Json_Server</span> utilizes <a href="zend.server.reflection.html" class="link">Zend_Server_Reflection</a> to perform reflection on any attached classes or functions, and uses that information to build both the SMD and enforce method call signatures. As such, it is imperative that any attached functions and/or class methods have full <acronym class="acronym">PHP</acronym> docblocks documenting, minimally:
                </p>
                <ul class="itemizedlist">
                    <li class="listitem">
                        <p class="para">
                            All parameters and their expected variable types
                        </p>
                    </li>
                    <li class="listitem">
                        <p class="para">
                            The return value variable type
                        </p>
                    </li>
                </ul>
                <p class="para">
                    <span class="classname">Zend_Json_Server</span> listens for POST requests only at this time; fortunately, most JSON-RPC client implementations in the wild at the time of this writing will only POST requests as it is. This makes it simple to utilize the same server end point to both handle requests as well as to deliver the service SMD, as is shown in the next example.
                </p>
                <div class="example">
                    <div class="info">
                        <p>
                            <b>Example #1 Zend_Json_Server Usage</b>
                        </p>
                    </div>
                    <div class="example-contents">
                        <p>
                            First, let's define a class we wish to expose via the JSON-RPC server. We'll call the class 'Calculator', and define methods for 'add', 'subtract', 'multiply', and 'divide':
                        </p>
                    </div>
                    <div class="programlisting php">
                        <div class="phpcode">
                            <div class="php" style="font-family: monospace;">
                                <ol>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            <span style="color: #808080; font-style: italic;">/**</span>
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            <span style="color: #808080; font-style: italic;">* Calculator - sample class to expose via JSON-RPC</span>
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            <span style="color: #808080; font-style: italic;">*/</span>
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            <span style="color: #000000; font-weight: bold;">class</span> Calculator
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            <span style="color: #66cc66;">{</span>
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            &nbsp; &nbsp; <span style="color: #808080; font-style: italic;">/**</span>
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            <span style="color: #808080; font-style: italic;">&nbsp; &nbsp; &nbsp;* Return sum of two variables</span>
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            <span style="color: #808080; font-style: italic;">&nbsp; &nbsp; &nbsp;*</span>
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            <span style="color: #808080; font-style: italic;">&nbsp; &nbsp; &nbsp;* @param&nbsp; int $x</span>
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            <span style="color: #808080; font-style: italic;">&nbsp; &nbsp; &nbsp;* @param&nbsp; int $y</span>
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            <span style="color: #808080; font-style: italic;">&nbsp; &nbsp; &nbsp;* @return int</span>
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            <span style="color: #808080; font-style: italic;">&nbsp; &nbsp; &nbsp;*/</span>
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            &nbsp; &nbsp; <span style="color: #000000; font-weight: bold;">public</span> <span style="color: #000000; font-weight: bold;">function</span> add<span style="color: #66cc66;">(</span><span style="color: #0000ff;">$x</span>, <span style="color: #0000ff;">$y</span><span style="color: #66cc66;">)</span>
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            &nbsp; &nbsp; <span style="color: #66cc66;">{</span>
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #b1b100;">return</span> <span style="color: #0000ff;">$x</span> + <span style="color: #0000ff;">$y</span>;
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            &nbsp; &nbsp; <span style="color: #66cc66;">}</span>
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            &nbsp;
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            &nbsp; &nbsp; <span style="color: #808080; font-style: italic;">/**</span>
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            <span style="color: #808080; font-style: italic;">&nbsp; &nbsp; &nbsp;* Return difference of two variables</span>
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            <span style="color: #808080; font-style: italic;">&nbsp; &nbsp; &nbsp;*</span>
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            <span style="color: #808080; font-style: italic;">&nbsp; &nbsp; &nbsp;* @param&nbsp; int $x</span>
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            <span style="color: #808080; font-style: italic;">&nbsp; &nbsp; &nbsp;* @param&nbsp; int $y</span>
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            <span style="color: #808080; font-style: italic;">&nbsp; &nbsp; &nbsp;* @return int</span>
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            <span style="color: #808080; font-style: italic;">&nbsp; &nbsp; &nbsp;*/</span>
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            &nbsp; &nbsp; <span style="color: #000000; font-weight: bold;">public</span> <span style="color: #000000; font-weight: bold;">function</span> subtract<span style="color: #66cc66;">(</span><span style="color: #0000ff;">$x</span>, <span style="color: #0000ff;">$y</span><span style="color: #66cc66;">)</span>
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            &nbsp; &nbsp; <span style="color: #66cc66;">{</span>
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #b1b100;">return</span> <span style="color: #0000ff;">$x</span> - <span style="color: #0000ff;">$y</span>;
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            &nbsp; &nbsp; <span style="color: #66cc66;">}</span>
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            &nbsp;
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            &nbsp; &nbsp; <span style="color: #808080; font-style: italic;">/**</span>
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            <span style="color: #808080; font-style: italic;">&nbsp; &nbsp; &nbsp;* Return product of two variables</span>
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            <span style="color: #808080; font-style: italic;">&nbsp; &nbsp; &nbsp;*</span>
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            <span style="color: #808080; font-style: italic;">&nbsp; &nbsp; &nbsp;* @param&nbsp; int $x</span>
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            <span style="color: #808080; font-style: italic;">&nbsp; &nbsp; &nbsp;* @param&nbsp; int $y</span>
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            <span style="color: #808080; font-style: italic;">&nbsp; &nbsp; &nbsp;* @return int</span>
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            <span style="color: #808080; font-style: italic;">&nbsp; &nbsp; &nbsp;*/</span>
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            &nbsp; &nbsp; <span style="color: #000000; font-weight: bold;">public</span> <span style="color: #000000; font-weight: bold;">function</span> multiply<span style="color: #66cc66;">(</span><span style="color: #0000ff;">$x</span>, <span style="color: #0000ff;">$y</span><span style="color: #66cc66;">)</span>
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            &nbsp; &nbsp; <span style="color: #66cc66;">{</span>
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #b1b100;">return</span> <span style="color: #0000ff;">$x</span> * <span style="color: #0000ff;">$y</span>;
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            &nbsp; &nbsp; <span style="color: #66cc66;">}</span>
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            &nbsp;
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            &nbsp; &nbsp; <span style="color: #808080; font-style: italic;">/**</span>
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            <span style="color: #808080; font-style: italic;">&nbsp; &nbsp; &nbsp;* Return the division of two variables</span>
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            <span style="color: #808080; font-style: italic;">&nbsp; &nbsp; &nbsp;*</span>
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            <span style="color: #808080; font-style: italic;">&nbsp; &nbsp; &nbsp;* @param&nbsp; int $x</span>
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            <span style="color: #808080; font-style: italic;">&nbsp; &nbsp; &nbsp;* @param&nbsp; int $y</span>
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            <span style="color: #808080; font-style: italic;">&nbsp; &nbsp; &nbsp;* @return float</span>
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            <span style="color: #808080; font-style: italic;">&nbsp; &nbsp; &nbsp;*/</span>
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            &nbsp; &nbsp; <span style="color: #000000; font-weight: bold;">public</span> <span style="color: #000000; font-weight: bold;">function</span> divide<span style="color: #66cc66;">(</span><span style="color: #0000ff;">$x</span>, <span style="color: #0000ff;">$y</span><span style="color: #66cc66;">)</span>
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            &nbsp; &nbsp; <span style="color: #66cc66;">{</span>
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #b1b100;">return</span> <span style="color: #0000ff;">$x</span> / <span style="color: #0000ff;">$y</span>;
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            &nbsp; &nbsp; <span style="color: #66cc66;">}</span>
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            <span style="color: #66cc66;">}</span>
                                        </div>
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>
                    <div class="example-contents">
                        <p>
                            Note that each method has a docblock with entries indicating each parameter and its type, as well as an entry for the return value. This is <em class="emphasis">absolutely critical</em> when utilizing <span class="classname">Zend_Json_Server</span> or any other server component in Zend Framework, for that matter.
                        </p>
                    </div>
                    <div class="example-contents">
                        <p>
                            Now we'll create a script to handle the requests:
                        </p>
                    </div>
                    <div class="programlisting php">
                        <div class="phpcode">
                            <div class="php" style="font-family: monospace;">
                                <ol>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            <span style="color: #0000ff;">$server</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Json_Server<span style="color: #66cc66;">(</span><span style="color: #66cc66;">)</span>;
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            &nbsp;
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            <span style="color: #808080; font-style: italic;">// Indicate what functionality is available:</span>
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            <span style="color: #0000ff;">$server</span>-&gt;<span style="color: #006600;">setClass</span><span style="color: #66cc66;">(</span><span style="color: #ff0000;">'Calculator'</span><span style="color: #66cc66;">)</span>;
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            &nbsp;
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            <span style="color: #808080; font-style: italic;">// Handle the request:</span>
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            <span style="color: #0000ff;">$server</span>-&gt;<span style="color: #006600;">handle</span><span style="color: #66cc66;">(</span><span style="color: #66cc66;">)</span>;
                                        </div>
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>
                    <div class="example-contents">
                        <p>
                            However, this will not address the issue of returning an SMD so that the JSON-RPC client can autodiscover methods. That can be accomplished by determining the <acronym class="acronym">HTTP</acronym> request method, and then specifying some server metadata:
                        </p>
                    </div>
                    <div class="programlisting php">
                        <div class="phpcode">
                            <div class="php" style="font-family: monospace;">
                                <ol>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            <span style="color: #0000ff;">$server</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Json_Server<span style="color: #66cc66;">(</span><span style="color: #66cc66;">)</span>;
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            <span style="color: #0000ff;">$server</span>-&gt;<span style="color: #006600;">setClass</span><span style="color: #66cc66;">(</span><span style="color: #ff0000;">'Calculator'</span><span style="color: #66cc66;">)</span>;
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            &nbsp;
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            <span style="color: #b1b100;">if</span> <span style="color: #66cc66;">(</span><span style="color: #ff0000;">'GET'</span> == <span style="color: #0000ff;">$_SERVER</span><span style="color: #66cc66;">[</span><span style="color: #ff0000;">'REQUEST_METHOD'</span><span style="color: #66cc66;">]</span><span style="color: #66cc66;">)</span> <span style="color: #66cc66;">{</span>
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            &nbsp; &nbsp; <span style="color: #808080; font-style: italic;">// Indicate the URL endpoint, and the JSON-RPC version used:</span>
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            &nbsp; &nbsp; <span style="color: #0000ff;">$server</span>-&gt;<span style="color: #006600;">setTarget</span><span style="color: #66cc66;">(</span><span style="color: #ff0000;">'/json-rpc.php'</span><span style="color: #66cc66;">)</span>
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;-&gt;<span style="color: #006600;">setEnvelope</span><span style="color: #66cc66;">(</span>Zend_Json_Server_Smd::<span style="color: #006600;">ENV_JSONRPC_2</span><span style="color: #66cc66;">)</span>;
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            &nbsp;
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            &nbsp; &nbsp; <span style="color: #808080; font-style: italic;">// Grab the SMD</span>
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            &nbsp; &nbsp; <span style="color: #0000ff;">$smd</span> = <span style="color: #0000ff;">$server</span>-&gt;<span style="color: #006600;">getServiceMap</span><span style="color: #66cc66;">(</span><span style="color: #66cc66;">)</span>;
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            &nbsp;
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            &nbsp; &nbsp; <span style="color: #808080; font-style: italic;">// Return the SMD to the client</span>
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            &nbsp; &nbsp; <a href="http://www.php.net/header"><span style="color: #000066;">header</span></a><span style="color: #66cc66;">(</span><span style="color: #ff0000;">'Content-Type: application/json'</span><span style="color: #66cc66;">)</span>;
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            &nbsp; &nbsp; <a href="http://www.php.net/echo"><span style="color: #000066;">echo</span></a> <span style="color: #0000ff;">$smd</span>;
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            &nbsp; &nbsp; <span style="color: #b1b100;">return</span>;
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            <span style="color: #66cc66;">}</span>
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            &nbsp;
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            <span style="color: #0000ff;">$server</span>-&gt;<span style="color: #006600;">handle</span><span style="color: #66cc66;">(</span><span style="color: #66cc66;">)</span>;
                                        </div>
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>
                    <div class="example-contents">
                        <p>
                            If utilizing the JSON-RPC server with Dojo toolkit, you will also need to set a special compatibility flag to ensure that the two interoperate properly:
                        </p>
                    </div>
                    <div class="programlisting php">
                        <div class="phpcode">
                            <div class="php" style="font-family: monospace;">
                                <ol>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            <span style="color: #0000ff;">$server</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Json_Server<span style="color: #66cc66;">(</span><span style="color: #66cc66;">)</span>;
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            <span style="color: #0000ff;">$server</span>-&gt;<span style="color: #006600;">setClass</span><span style="color: #66cc66;">(</span><span style="color: #ff0000;">'Calculator'</span><span style="color: #66cc66;">)</span>;
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            &nbsp;
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            <span style="color: #b1b100;">if</span> <span style="color: #66cc66;">(</span><span style="color: #ff0000;">'GET'</span> == <span style="color: #0000ff;">$_SERVER</span><span style="color: #66cc66;">[</span><span style="color: #ff0000;">'REQUEST_METHOD'</span><span style="color: #66cc66;">]</span><span style="color: #66cc66;">)</span> <span style="color: #66cc66;">{</span>
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            &nbsp; &nbsp; <span style="color: #0000ff;">$server</span>-&gt;<span style="color: #006600;">setTarget</span><span style="color: #66cc66;">(</span><span style="color: #ff0000;">'/json-rpc.php'</span><span style="color: #66cc66;">)</span>
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;-&gt;<span style="color: #006600;">setEnvelope</span><span style="color: #66cc66;">(</span>Zend_Json_Server_Smd::<span style="color: #006600;">ENV_JSONRPC_2</span><span style="color: #66cc66;">)</span>;
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            &nbsp; &nbsp; <span style="color: #0000ff;">$smd</span> = <span style="color: #0000ff;">$server</span>-&gt;<span style="color: #006600;">getServiceMap</span><span style="color: #66cc66;">(</span><span style="color: #66cc66;">)</span>;
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            &nbsp;
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            &nbsp; &nbsp; <span style="color: #808080; font-style: italic;">// Set Dojo compatibility:</span>
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            &nbsp; &nbsp; <span style="color: #0000ff;">$smd</span>-&gt;<span style="color: #006600;">setDojoCompatible</span><span style="color: #66cc66;">(</span><span style="color: #000000; font-weight: bold;">true</span><span style="color: #66cc66;">)</span>;
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            &nbsp;
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            &nbsp; &nbsp; <a href="http://www.php.net/header"><span style="color: #000066;">header</span></a><span style="color: #66cc66;">(</span><span style="color: #ff0000;">'Content-Type: application/json'</span><span style="color: #66cc66;">)</span>;
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            &nbsp; &nbsp; <a href="http://www.php.net/echo"><span style="color: #000066;">echo</span></a> <span style="color: #0000ff;">$smd</span>;
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            &nbsp; &nbsp; <span style="color: #b1b100;">return</span>;
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            <span style="color: #66cc66;">}</span>
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            &nbsp;
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            <span style="color: #0000ff;">$server</span>-&gt;<span style="color: #006600;">handle</span><span style="color: #66cc66;">(</span><span style="color: #66cc66;">)</span>;
                                        </div>
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="section" id="zend.json.server.details">
                    <div class="info">
                        <h2>
                            Advanced Details
                        </h2>
                    </div>
                    <p class="para">
                        While most functionality for <span class="classname">Zend_Json_Server</span> is spelled out in <a href="zend.json.server.html#zend.json.server.usage" class="link">this section</a>, more advanced functionality is available.
                    </p>
                    <div class="section" id="zend.json.server.details.zendjsonserver">
                        <div class="info">
                            <h2>
                                Zend_Json_Server
                            </h2>
                        </div>
                        <p class="para">
                            <span class="classname">Zend_Json_Server</span> is the core class in the JSON-RPC offering; it handles all requests and returns the response payload. It has the following methods:
                        </p>
                        <ul class="itemizedlist">
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">addFunction($function)</span>: Specify a userland function to attach to the server.
                                </p>
                            </li>
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">setClass($class)</span>: Specify a class or object to attach to the server; all public methods of that item will be exposed as JSON-RPC methods.
                                </p>
                            </li>
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">fault($fault = null, $code = 404, $data = null)</span>: Create and return a <span class="classname">Zend_Json_Server_Error</span> object.
                                </p>
                            </li>
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">handle($request = false)</span>: Handle a JSON-RPC request; optionally, pass a <span class="classname">Zend_Json_Server_Request</span> object to utilize (creates one by default).
                                </p>
                            </li>
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">getFunctions()</span>: Return a list of all attached methods.
                                </p>
                            </li>
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">setRequest(Zend_Json_Server_Request $request)</span>: Specify a request object for the server to utilize.
                                </p>
                            </li>
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">getRequest()</span>: Retrieve the request object used by the server.
                                </p>
                            </li>
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">setResponse(Zend_Json_Server_Response $response)</span>: Set the response object for the server to utilize.
                                </p>
                            </li>
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">getResponse()</span>: Retrieve the response object used by the server.
                                </p>
                            </li>
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">setAutoEmitResponse($flag)</span>: Indicate whether the server should automatically emit the response and all headers; by default, this is <b><tt>TRUE</tt></b>.
                                </p>
                            </li>
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">autoEmitResponse()</span>: Determine if auto-emission of the response is enabled.
                                </p>
                            </li>
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">getServiceMap()</span>: Retrieve the service map description in the form of a <span class="classname">Zend_Json_Server_Smd</span> object
                                </p>
                            </li>
                        </ul>
                    </div>
                    <div class="section" id="zend.json.server.details.zendjsonserverrequest">
                        <div class="info">
                            <h2>
                                Zend_Json_Server_Request
                            </h2>
                        </div>
                        <p class="para">
                            The JSON-RPC request environment is encapsulated in the <span class="classname">Zend_Json_Server_Request</span> object. This object allows you to set necessary portions of the JSON-RPC request, including the request ID, parameters, and JSON-RPC specification version. It has the ability to load itself via <acronym class="acronym">JSON</acronym> or a set of options, and can render itself as <acronym class="acronym">JSON</acronym> via the <span class="methodname">toJson()</span> method.
                        </p>
                        <p class="para">
                            The request object has the following methods available:
                        </p>
                        <ul class="itemizedlist">
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">setOptions(array $options)</span>: Specify object configuration. <var class="varname">$options</var> may contain keys matching any 'set' method: <span class="methodname">setParams()</span>, <span class="methodname">setMethod()</span>, <span class="methodname">setId()</span>, and <span class="methodname">setVersion()</span>.
                                </p>
                            </li>
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">addParam($value, $key = null)</span>: Add a parameter to use with the method call. Parameters can be just the values, or can optionally include the parameter name.
                                </p>
                            </li>
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">addParams(array $params)</span>: Add multiple parameters at once; proxies to <span class="methodname">addParam()</span>
                                </p>
                            </li>
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">setParams(array $params)</span>: Set all parameters at once; overwrites any existing parameters.
                                </p>
                            </li>
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">getParam($index)</span>: Retrieve a parameter by position or name.
                                </p>
                            </li>
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">getParams()</span>: Retrieve all parameters at once.
                                </p>
                            </li>
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">setMethod($name)</span>: Set the method to call.
                                </p>
                            </li>
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">getMethod()</span>: Retrieve the method that will be called.
                                </p>
                            </li>
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">isMethodError()</span>: Determine whether or not the request is malformed and would result in an error.
                                </p>
                            </li>
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">setId($name)</span>: Set the request identifier (used by the client to match requests to responses).
                                </p>
                            </li>
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">getId()</span>: Retrieve the request identifier.
                                </p>
                            </li>
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">setVersion($version)</span>: Set the JSON-RPC specification version the request conforms to. May be either '1.0' or '2.0'.
                                </p>
                            </li>
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">getVersion()</span>: Retrieve the JSON-RPC specification version used by the request.
                                </p>
                            </li>
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">loadJson($json)</span>: Load the request object from a <acronym class="acronym">JSON</acronym> string.
                                </p>
                            </li>
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">toJson()</span>: Render the request as a <acronym class="acronym">JSON</acronym> string.
                                </p>
                            </li>
                        </ul>
                        <p class="para">
                            An <acronym class="acronym">HTTP</acronym> specific version is available via <span class="classname">Zend_Json_Server_Request_Http</span>. This class will retrieve the request via <var class="filename">php://input</var>, and allows access to the raw <acronym class="acronym">JSON</acronym> via the <span class="methodname">getRawJson()</span> method.
                        </p>
                    </div>
                    <div class="section" id="zend.json.server.details.zendjsonserverresponse">
                        <div class="info">
                            <h2>
                                Zend_Json_Server_Response
                            </h2>
                        </div>
                        <p class="para">
                            The JSON-RPC response payload is encapsulated in the <span class="classname">Zend_Json_Server_Response</span> object. This object allows you to set the return value of the request, whether or not the response is an error, the request identifier, the JSON-RPC specification version the response conforms to, and optionally the service map.
                        </p>
                        <p class="para">
                            The response object has the following methods available:
                        </p>
                        <ul class="itemizedlist">
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">setResult($value)</span>: Set the response result.
                                </p>
                            </li>
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">getResult()</span>: Retrieve the response result.
                                </p>
                            </li>
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">setError(Zend_Json_Server_Error $error)</span>: Set an error object. If set, this will be used as the response when serializing to <acronym class="acronym">JSON</acronym>.
                                </p>
                            </li>
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">getError()</span>: Retrieve the error object, if any.
                                </p>
                            </li>
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">isError()</span>: Whether or not the response is an error response.
                                </p>
                            </li>
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">setId($name)</span>: Set the request identifier (so the client may match the response with the original request).
                                </p>
                            </li>
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">getId()</span>: Retrieve the request identifier.
                                </p>
                            </li>
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">setVersion($version)</span>: Set the JSON-RPC version the response conforms to.
                                </p>
                            </li>
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">getVersion()</span>: Retrieve the JSON-RPC version the response conforms to.
                                </p>
                            </li>
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">toJson()</span>: Serialize the response to <acronym class="acronym">JSON</acronym>. If the response is an error response, serializes the error object.
                                </p>
                            </li>
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">setServiceMap($serviceMap)</span>: Set the service map object for the response.
                                </p>
                            </li>
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">getServiceMap()</span>: Retrieve the service map object, if any.
                                </p>
                            </li>
                        </ul>
                        <p class="para">
                            An <acronym class="acronym">HTTP</acronym> specific version is available via <span class="classname">Zend_Json_Server_Response_Http</span>. This class will send the appropriate <acronym class="acronym">HTTP</acronym> headers as well as serialize the response as <acronym class="acronym">JSON</acronym>.
                        </p>
                    </div>
                    <div class="section" id="zend.json.server.details.zendjsonservererror">
                        <div class="info">
                            <h2>
                                Zend_Json_Server_Error
                            </h2>
                        </div>
                        <p class="para">
                            JSON-RPC has a special format for reporting error conditions. All errors need to provide, minimally, an error message and error code; optionally, they can provide additional data, such as a backtrace.
                        </p>
                        <p class="para">
                            Error codes are derived from those recommended by <a href="http://xmlrpc-epi.sourceforge.net/specs/rfc.fault_codes.php" class="link external">&raquo; the XML-RPC EPI project</a>. <span class="classname">Zend_Json_Server</span> appropriately assigns the code based on the error condition. For application exceptions, the code '-32000' is used.
                        </p>
                        <p class="para">
                            <span class="classname">Zend_Json_Server_Error</span> exposes the following methods:
                        </p>
                        <ul class="itemizedlist">
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">setCode($code)</span>: Set the error code; if the code is not in the accepted XML-RPC error code range, -32000 will be assigned.
                                </p>
                            </li>
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">getCode()</span>: Retrieve the current error code.
                                </p>
                            </li>
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">setMessage($message)</span>: Set the error message.
                                </p>
                            </li>
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">getMessage()</span>: Retrieve the current error message.
                                </p>
                            </li>
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">setData($data)</span>: Set auxiliary data further qualifying the error, such as a backtrace.
                                </p>
                            </li>
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">getData()</span>: Retrieve any current auxiliary error data.
                                </p>
                            </li>
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">toArray()</span>: Cast the error to an array. The array will contain the keys 'code', 'message', and 'data'.
                                </p>
                            </li>
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">toJson()</span>: Cast the error to a JSON-RPC error representation.
                                </p>
                            </li>
                        </ul>
                    </div>
                    <div class="section" id="zend.json.server.details.zendjsonserversmd">
                        <div class="info">
                            <h2>
                                Zend_Json_Server_Smd
                            </h2>
                        </div>
                        <p class="para">
                            SMD stands for Service Mapping Description, a <acronym class="acronym">JSON</acronym> schema that defines how a client can interact with a particular web service. At the time of this writing, the <a href="http://groups.google.com/group/json-schema/web/service-mapping-description-proposal" class="link external">&raquo; specification</a> has not yet been formally ratified, but it is in use already within Dojo toolkit as well as other JSON-RPC consumer clients.
                        </p>
                        <p class="para">
                            At its most basic, a Service Mapping Description indicates the method of transport (POST, <b><tt>GET</tt></b>, <acronym class="acronym">TCP</acronym>/IP, etc), the request envelope type (usually based on the protocol of the server), the target <acronym class="acronym">URL</acronym> of the service provider, and a map of services available. In the case of JSON-RPC, the service map is a list of available methods, which each method documenting the available parameters and their types, as well as the expected return value type.
                        </p>
                        <p class="para">
                            <span class="classname">Zend_Json_Server_Smd</span> provides an object oriented way to build service maps. At its most basic, you pass it metadata describing the service using mutators, and specify services (methods and functions).
                        </p>
                        <p class="para">
                            The service descriptions themselves are typically instances of <span class="classname">Zend_Json_Server_Smd_Service</span>; you can also pass all information as an array to the various service mutators in <span class="classname">Zend_Json_Server_Smd</span>, and it will instantiate a service object for you. The service objects contain information such as the name of the service (typically the function or method name), the parameters (names, types, and position), and the return value type. Optionally, each service can have its own target and envelope, though this functionality is rarely used.
                        </p>
                        <p class="para">
                            <span class="classname">Zend_Json_Server</span> actually does all of this behind the scenes for you, by using reflection on the attached classes and functions; you should create your own service maps only if you need to provide custom functionality that class and function introspection cannot offer.
                        </p>
                        <p class="para">
                            Methods available in <span class="classname">Zend_Json_Server_Smd</span> include:
                        </p>
                        <ul class="itemizedlist">
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">setOptions(array $options)</span>: Setup an SMD object from an array of options. All mutators (methods beginning with 'set') can be used as keys.
                                </p>
                            </li>
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">setTransport($transport)</span>: Set the transport used to access the service; only POST is currently supported.
                                </p>
                            </li>
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">getTransport()</span>: Get the current service transport.
                                </p>
                            </li>
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">setEnvelope($envelopeType)</span>: Set the request envelope that should be used to access the service. Currently, supports the constants <b><tt>Zend_Json_Server_Smd::ENV_JSONRPC_1</tt></b> and <b><tt>Zend_Json_Server_Smd::ENV_JSONRPC_2</tt></b>.
                                </p>
                            </li>
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">getEnvelope()</span>: Get the current request envelope.
                                </p>
                            </li>
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">setContentType($type)</span>: Set the content type requests should use (by default, this is 'application/json').
                                </p>
                            </li>
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">getContentType()</span>: Get the current content type for requests to the service.
                                </p>
                            </li>
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">setTarget($target)</span>: Set the <acronym class="acronym">URL</acronym> endpoint for the service.
                                </p>
                            </li>
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">getTarget()</span>: Get the <acronym class="acronym">URL</acronym> endpoint for the service.
                                </p>
                            </li>
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">setId($id)</span>: Typically, this is the <acronym class="acronym">URL</acronym> endpoint of the service (same as the target).
                                </p>
                            </li>
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">getId()</span>: Retrieve the service ID (typically the <acronym class="acronym">URL</acronym> endpoint of the service).
                                </p>
                            </li>
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">setDescription($description)</span>: Set a service description (typically narrative information describing the purpose of the service).
                                </p>
                            </li>
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">getDescription()</span>: Get the service description.
                                </p>
                            </li>
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">setDojoCompatible($flag)</span>: Set a flag indicating whether or not the SMD is compatible with Dojo toolkit. When <b><tt>TRUE</tt></b>, the generated <acronym class="acronym">JSON</acronym> SMD will be formatted to comply with the format that Dojo's JSON-RPC client expects.
                                </p>
                            </li>
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">isDojoCompatible()</span>: Returns the value of the Dojo compatibility flag (<b><tt>FALSE</tt></b>, by default).
                                </p>
                            </li>
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">addService($service)</span>: Add a service to the map. May be an array of information to pass to the constructor of <span class="classname">Zend_Json_Server_Smd_Service</span>, or an instance of that class.
                                </p>
                            </li>
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">addServices(array $services)</span>: Add multiple services at once.
                                </p>
                            </li>
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">setServices(array $services)</span>: Add multiple services at once, overwriting any previously set services.
                                </p>
                            </li>
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">getService($name)</span>: Get a service by its name.
                                </p>
                            </li>
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">getServices()</span>: Get all attached services.
                                </p>
                            </li>
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">removeService($name)</span>: Remove a service from the map.
                                </p>
                            </li>
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">toArray()</span>: Cast the service map to an array.
                                </p>
                            </li>
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">toDojoArray()</span>: Cast the service map to an array compatible with Dojo Toolkit.
                                </p>
                            </li>
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">toJson()</span>: Cast the service map to a <acronym class="acronym">JSON</acronym> representation.
                                </p>
                            </li>
                        </ul>
                        <p class="para">
                            <span class="classname">Zend_Json_Server_Smd_Service</span> has the following methods:
                        </p>
                        <ul class="itemizedlist">
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">setOptions(array $options)</span>: Set object state from an array. Any mutator (methods beginning with 'set') may be used as a key and set via this method.
                                </p>
                            </li>
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">setName($name)</span>: Set the service name (typically, the function or method name).
                                </p>
                            </li>
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">getName()</span>: Retrieve the service name.
                                </p>
                            </li>
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">setTransport($transport)</span>: Set the service transport (currently, only transports supported by <span class="classname">Zend_Json_Server_Smd</span> are allowed).
                                </p>
                            </li>
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">getTransport()</span>: Retrieve the current transport.
                                </p>
                            </li>
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">setTarget($target)</span>: Set the <acronym class="acronym">URL</acronym> endpoint of the service (typically, this will be the same as the overall SMD to which the service is attached).
                                </p>
                            </li>
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">getTarget()</span>: Get the <acronym class="acronym">URL</acronym> endpoint of the service.
                                </p>
                            </li>
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">setEnvelope($envelopeType)</span>: Set the service envelope (currently, only envelopes supported by <span class="classname">Zend_Json_Server_Smd</span> are allowed).
                                </p>
                            </li>
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">getEnvelope()</span>: Retrieve the service envelope type.
                                </p>
                            </li>
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">addParam($type, array $options = array(), $order = null)</span>: Add a parameter to the service. By default, only the parameter type is necessary. However, you may also specify the order, as well as options such as:
                                </p>
                                <ul class="itemizedlist">
                                    <li class="listitem">
                                        <p class="para">
                                            <em class="emphasis">name</em>: the parameter name
                                        </p>
                                    </li>
                                    <li class="listitem">
                                        <p class="para">
                                            <em class="emphasis">optional</em>: whether or not the parameter is optional
                                        </p>
                                    </li>
                                    <li class="listitem">
                                        <p class="para">
                                            <em class="emphasis">default</em>: a default value for the parameter
                                        </p>
                                    </li>
                                    <li class="listitem">
                                        <p class="para">
                                            <em class="emphasis">description</em>: text describing the parameter
                                        </p>
                                    </li>
                                </ul>
                            </li>
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">addParams(array $params)</span>: Add several parameters at once; each param should be an assoc array containing minimally the key 'type' describing the parameter type, and optionally the key 'order'; any other keys will be passed as <var class="varname">$options</var> to <span class="methodname">addOption()</span>.
                                </p>
                            </li>
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">setParams(array $params)</span>: Set many parameters at once, overwriting any existing parameters.
                                </p>
                            </li>
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">getParams()</span>: Retrieve all currently set parameters.
                                </p>
                            </li>
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">setReturn($type)</span>: Set the return value type of the service.
                                </p>
                            </li>
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">getReturn()</span>: Get the return value type of the service.
                                </p>
                            </li>
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">toArray()</span>: Cast the service to an array.
                                </p>
                            </li>
                            <li class="listitem">
                                <p class="para">
                                    <span class="methodname">toJson()</span>: Cast the service to a <acronym class="acronym">JSON</acronym> representation.
                                </p>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <nav>
    <ul class="page-nav hidden-print">
        <li class="page-nav__item"><a rel="prev" class="page-nav__link page-nav__link--prev" href="zend.json.xml2json.html">
                <i class="fa fa-chevron-left"></i> Previous
            </a></li>
        <li class="page-nav__item"><a rel="next" class="page-nav__link page-nav__link--next" href="zend.layout.html">
                Next <i class="fa fa-chevron-right"></i>
            </a></li>
    </ul>
</nav></div>
<div class="col-md-3 col-xs-12 sidebar">
<div class="subnavigation"><div class="component-selector">
<h5 class="component-selector__subtitle">Version 1.12</h5></div><h4 class="subnavigation__title"><a href="zend.json.html">Zend_Json</a></h4><ul class="subnavigation__list">
                
                
                
                
                <li class="subnavigation__list-item">
                    <a class="subnavigation__link" href="zend.json.introduction.html">Introduction</a>
                </li>
                <li class="subnavigation__list-item">
                    <a class="subnavigation__link" href="zend.json.basics.html">Basic Usage</a>
                </li>
                <li class="subnavigation__list-item">
                    <a class="subnavigation__link" href="zend.json.advanced.html">Advanced Usage of Zend_Json</a>
                </li>
                <li class="subnavigation__list-item">
                    <a class="subnavigation__link" href="zend.json.xml2json.html">XML to JSON conversion</a>
                </li>
                <li class="subnavigation__list-item subnavigation__list-item--active">
                    <a class="subnavigation__link" href="zend.json.server.html">Zend_Json_Server - JSON-RPC server</a>
                </li>
            </ul></div></div>

    </div>
</div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-9">
                <h5>Zend Framework</h5>
                <ul>
                    <li><a href="https://framework.zend.com/">framework.zend.com</a></li>
                    <li><a href="https://docs.zendframework.com">docs.zendframework.com</a></li>
                    <li><a href="https://packages.zendframework.com">packages.zendframework.com</a></li>
                    <li><a href="https://apigility.org">apigility.org</a></li>
                    <li><a href="https://getexpressive.org/">getexpressive.org</a></li>
                </ul>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12 text-center">
                <a class="footer__button" href="#page-top"><i class="fa fa-chevron-up" aria-hidden="true"></i></a>
            </div>
        </div>
        <div class="row">
            <div class="col-md-9">
                <h4 class="footer__headline">Copyright</h4>
                <p>© 2006-2019 by <a href="https://www.zend.com/">Zend</a>, a <a href="https://www.roguewave.com/">Rogue Wave Company</a>.</p>
            </div>
            <div class="col-md-3">
                <h4 class="footer__headline">Support</h4>
                <ul class="support__list">
                    <li class="support__list-item">
                        <a href="https://discourse.zendframework.com" class="support__link" title="Forum"><i class="fa fa-comments"></i></a>
                    </li>
                    <li class="support__list-item">
                        <a href="https://zendframework-slack.herokuapp.com" class="support__link" title="Chat"><i class="fa fa-slack"></i></a>
                    </li>
                    <li class="support__list-item">
                        <a href="https://github.com/zendframework" class="support__link" title="Github"><i class="fa fa-github"></i></a>
                    </li>
                    <li class="support__list-item">
                        <a href="https://twitter.com/zfdevteam" class="support__link" title="Twitter"><i class="fa fa-twitter"></i></a>
                    </li>
                    <li class="support__list-item">
                        <a href="https://tinyletter.com/mwopzend" class="support__link" title="Newsletter"><i class="fa fa-envelope"></i></a>
                    </li>
                    <li class="support__list-item">
                        <a href="https://framework.zend.com/blog/feed-rss.xml" class="support__link" title="Blog feed"><i class="fa fa-rss"></i></a>
                    </li>
                    <li class="support__list-item">
                        <a href="https://framework.zend.com/security/feed" class="support__link" title="Security feed"><i class="fa fa-rss-square"></i></a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</footer>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/jquery@2.2.4/dist/jquery.min.js"></script>
<script type="text/javascript" src="https://framework.zend.com/js/scripts-9871b49c70.js"></script>
</body>
</html>
