<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
    Overview - Zend_Memory &ndash; Documentation of ZF1 - Zend Framework
</title>
    <link rel="stylesheet" href="https://froschdesign.github.io/zend-documentation-showcase/css/styles.css">
    <link rel="stylesheet" href="https://froschdesign.github.io/zf1-documentation/css/main.css">
</head>
<body id="page-top">
<div class="navbar navbar-default" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <span class="navbar-brand">
                <a class="logo-link" href="https://framework.zend.com/" data-tooltip data-placement="bottom" title="Go to the ZF homepage">
                    <img src="https://docs.zendframework.com/tutorials/img/zend-framework-logo.svg" height="28" alt="Zend Framework">
                </a>
            </span>
        </div>

        <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="https://framework.zend.com/about">About</a>
                </li>
                <li>
                    <a href="https://framework.zend.com/downloads">Install</a>
                </li>
                <li class="active">
                    <a href="https://docs.zendframework.com">Documentation</a>
                </li>
                <li>
                    <a href="https://www.zend.com/en/services/training">Training</a>
                </li>
                <li>
                    <a href="https://framework.zend.com/blog">Blog</a>
                </li>
                <li>
                    <a href="https://framework.zend.com/participate">Participate</a>
                </li>
            </ul>
        </div>
    </div>
</div>
<header class="header">
    <div class="container">
        <div class="row">
            <div class="col-xs-8">
                <h1 class="header__title">
                    Documentation
                    <small class="header__subtitle">ZF1</small>
                </h1>
            </div>
        </div>
    </div>
</header>
<div class="container">
    <div class="row">
        
    
<div class="col-md-9 col-xs-12 content" role="main"><p class="alert alert-warning" role="alert">
    <strong>Caution:</strong> The documentation you are viewing is
    for an older version of Zend Framework.<br>
    You can find the documentation of the current version at:
    <br>
    <a href="https://docs.zendframework.com/">
        https://docs.zendframework.com/    </a>
</p>
            <div id="zend.memory.overview" class="section">
                <div class="info">
                    <h1 class="title">
                        Overview
                    </h1>
                </div>
                <div class="section" id="zend.memory.introduction">
                    <div class="info">
                        <h2>
                            Introduction
                        </h2>
                    </div>
                    <p class="para">
                        The <span class="classname">Zend_Memory</span> component is intended to manage data in an environment with limited memory.
                    </p>
                    <p class="para">
                        Memory objects (memory containers) are generated by memory manager by request and transparently swapped/loaded when it's necessary.
                    </p>
                    <p class="para">
                        For example, if creating or loading a managed object would cause the total memory usage to exceed the limit you specify, some managed objects are copied to cache storage outside of memory. In this way, the total memory used by managed objects does not exceed the limit you need to enforce.
                    </p>
                    <p class="para">
                        The memory manager uses <a href="zend.cache.backends.html" class="link">Zend_Cache backends</a> as storage providers.
                    </p>
                    <div class="example">
                        <div class="info">
                            <p>
                                <b>Example #1 Using Zend_Memory component</b>
                            </p>
                        </div>
                        <div class="example-contents">
                            <p>
                                <span class="methodname">Zend_Memory::factory()</span> instantiates the memory manager object with specified backend options.
                            </p>
                        </div>
                        <div class="programlisting php">
                            <div class="phpcode">
                                <div class="php" style="font-family: monospace;">
                                    <ol>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                <span style="color: #0000ff;">$backendOptions</span> = <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">(</span>
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                &nbsp; &nbsp; <span style="color: #ff0000;">'cache_dir'</span> =&gt; <span style="color: #ff0000;">'./tmp/'</span> <span style="color: #808080; font-style: italic;">// Directory where to put the swapped memory blocks</span>
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                <span style="color: #66cc66;">)</span>;
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                &nbsp;
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                <span style="color: #0000ff;">$memoryManager</span> = Zend_Memory::<span style="color: #006600;">factory</span><span style="color: #66cc66;">(</span><span style="color: #ff0000;">'File'</span>, <span style="color: #0000ff;">$backendOptions</span><span style="color: #66cc66;">)</span>;
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                &nbsp;
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                <span style="color: #0000ff;">$loadedFiles</span> = <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">(</span><span style="color: #66cc66;">)</span>;
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                &nbsp;
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                <span style="color: #b1b100;">for</span> <span style="color: #66cc66;">(</span><span style="color: #0000ff;">$count</span> = <span style="color: #cc66cc;">0</span>; <span style="color: #0000ff;">$count</span> &lt; <span style="color: #cc66cc;">10000</span>; <span style="color: #0000ff;">$count</span>++<span style="color: #66cc66;">)</span> <span style="color: #66cc66;">{</span>
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                &nbsp; &nbsp; <span style="color: #0000ff;">$f</span> = <a href="http://www.php.net/fopen"><span style="color: #000066;">fopen</span></a><span style="color: #66cc66;">(</span><span style="color: #0000ff;">$fileNames</span><span style="color: #66cc66;">[</span><span style="color: #0000ff;">$count</span><span style="color: #66cc66;">]</span>, <span style="color: #ff0000;">'rb'</span><span style="color: #66cc66;">)</span>;
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                &nbsp; &nbsp; <span style="color: #0000ff;">$data</span> = <a href="http://www.php.net/fread"><span style="color: #000066;">fread</span></a><span style="color: #66cc66;">(</span><span style="color: #0000ff;">$f</span>, <a href="http://www.php.net/filesize"><span style="color: #000066;">filesize</span></a><span style="color: #66cc66;">(</span><span style="color: #0000ff;">$fileNames</span><span style="color: #66cc66;">[</span><span style="color: #0000ff;">$count</span><span style="color: #66cc66;">]</span><span style="color: #66cc66;">)</span><span style="color: #66cc66;">)</span>;
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                &nbsp; &nbsp; <span style="color: #0000ff;">$fclose</span><span style="color: #66cc66;">(</span><span style="color: #0000ff;">$f</span><span style="color: #66cc66;">)</span>;
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                &nbsp;
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                &nbsp; &nbsp; <span style="color: #0000ff;">$loadedFiles</span><span style="color: #66cc66;">[</span><span style="color: #66cc66;">]</span> = <span style="color: #0000ff;">$memoryManager</span>-&gt;<span style="color: #006600;">create</span><span style="color: #66cc66;">(</span><span style="color: #0000ff;">$data</span><span style="color: #66cc66;">)</span>;
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                <span style="color: #66cc66;">}</span>
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                &nbsp;
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                <a href="http://www.php.net/echo"><span style="color: #000066;">echo</span></a> <span style="color: #0000ff;">$loadedFiles</span><span style="color: #66cc66;">[</span><span style="color: #0000ff;">$index1</span><span style="color: #66cc66;">]</span>-&gt;<span style="color: #006600;">value</span>;
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                &nbsp;
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                <span style="color: #0000ff;">$loadedFiles</span><span style="color: #66cc66;">[</span><span style="color: #0000ff;">$index2</span><span style="color: #66cc66;">]</span>-&gt;<span style="color: #006600;">value</span> = <span style="color: #0000ff;">$newValue</span>;
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                &nbsp;
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                <span style="color: #0000ff;">$loadedFiles</span><span style="color: #66cc66;">[</span><span style="color: #0000ff;">$index3</span><span style="color: #66cc66;">]</span>-&gt;<span style="color: #006600;">value</span><span style="color: #66cc66;">[</span><span style="color: #0000ff;">$charIndex</span><span style="color: #66cc66;">]</span> = <span style="color: #ff0000;">'_'</span>;
                                            </div>
                                        </li>
                                    </ol>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="section" id="zend.memory.theory-of-operation">
                    <div class="info">
                        <h2>
                            Theory of Operation
                        </h2>
                    </div>
                    <p class="para">
                        <span class="classname">Zend_Memory</span> component operates with the following concepts:
                    </p>
                    <ul class="itemizedlist">
                        <li class="listitem">
                            <p class="para">
                                Memory manager
                            </p>
                        </li>
                        <li class="listitem">
                            <p class="para">
                                Memory container
                            </p>
                        </li>
                        <li class="listitem">
                            <p class="para">
                                Locked memory object
                            </p>
                        </li>
                        <li class="listitem">
                            <p class="para">
                                Movable memory object
                            </p>
                        </li>
                    </ul>
                    <div class="section" id="zend.memory.theory-of-operation.manager">
                        <div class="info">
                            <h2>
                                Memory manager
                            </h2>
                        </div>
                        <p class="para">
                            The memory manager generates memory objects (locked or movable) by request of user application and returns them wrapped into a memory container object.
                        </p>
                    </div>
                    <div class="section" id="zend.memory.theory-of-operation.container">
                        <div class="info">
                            <h2>
                                Memory container
                            </h2>
                        </div>
                        <p class="para">
                            The memory container has a virtual or actual <span class="property">value</span> attribute of string type. This attribute contains the data value specified at memory object creation time.
                        </p>
                        <p class="para">
                            You can operate with this <span class="property">value</span> attribute as an object property:
                        </p>
                        <div class="programlisting php">
                            <div class="phpcode">
                                <div class="php" style="font-family: monospace;">
                                    <ol>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                <span style="color: #0000ff;">$memObject</span> = <span style="color: #0000ff;">$memoryManager</span>-&gt;<span style="color: #006600;">create</span><span style="color: #66cc66;">(</span><span style="color: #0000ff;">$data</span><span style="color: #66cc66;">)</span>;
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                &nbsp;
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                <a href="http://www.php.net/echo"><span style="color: #000066;">echo</span></a> <span style="color: #0000ff;">$memObject</span>-&gt;<span style="color: #006600;">value</span>;
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                &nbsp;
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                <span style="color: #0000ff;">$memObject</span>-&gt;<span style="color: #006600;">value</span> = <span style="color: #0000ff;">$newValue</span>;
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                &nbsp;
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                <span style="color: #0000ff;">$memObject</span>-&gt;<span style="color: #006600;">value</span><span style="color: #66cc66;">[</span><span style="color: #0000ff;">$index</span><span style="color: #66cc66;">]</span> = <span style="color: #ff0000;">'_'</span>;
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                &nbsp;
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                <a href="http://www.php.net/echo"><span style="color: #000066;">echo</span></a> <a href="http://www.php.net/ord"><span style="color: #000066;">ord</span></a><span style="color: #66cc66;">(</span><span style="color: #0000ff;">$memObject</span>-&gt;<span style="color: #006600;">value</span><span style="color: #66cc66;">[</span><span style="color: #0000ff;">$index1</span><span style="color: #66cc66;">]</span><span style="color: #66cc66;">)</span>;
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                &nbsp;
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                <span style="color: #0000ff;">$memObject</span>-&gt;<span style="color: #006600;">value</span> = <a href="http://www.php.net/substr"><span style="color: #000066;">substr</span></a><span style="color: #66cc66;">(</span><span style="color: #0000ff;">$memObject</span>-&gt;<span style="color: #006600;">value</span>, <span style="color: #0000ff;">$start</span>, <span style="color: #0000ff;">$length</span><span style="color: #66cc66;">)</span>;
                                            </div>
                                        </li>
                                    </ol>
                                </div>
                            </div>
                        </div>
                        <blockquote>
                            <p>
                                <b class="note">Note</b>: If you are using a <acronym class="acronym">PHP</acronym> version earlier than 5.2, use the <a href="zend.memory.memory-objects.html#zend.memory.memory-objects.api.getRef" class="link">getRef()</a> method instead of accessing the value property directly.<br>
                            </p>
                        </blockquote>
                    </div>
                    <div class="section" id="zend.memory.theory-of-operation.locked">
                        <div class="info">
                            <h2>
                                Locked memory
                            </h2>
                        </div>
                        <p class="para">
                            Locked memory objects are always stored in memory. Data stored in locked memory are never swapped to the cache backend.
                        </p>
                    </div>
                    <div class="section" id="zend.memory.theory-of-operation.movable">
                        <div class="info">
                            <h2>
                                Movable memory
                            </h2>
                        </div>
                        <p class="para">
                            Movable memory objects are transparently swapped and loaded to/from the cache backend by <span class="classname">Zend_Memory</span> when it's necessary.
                        </p>
                        <p class="para">
                            The memory manager doesn't swap objects with size less than the specified minimum, due to performance considerations. See <a href="zend.memory.memory-manager.html#zend.memory.memory-manager.settings.min-size" class="link">this section</a> for more details.
                        </p>
                    </div>
                </div>
            </div>
            <nav>
    <ul class="page-nav hidden-print">
        <li class="page-nav__item"><a rel="prev" class="page-nav__link page-nav__link--prev" href="zend.memory.html">
                <i class="fa fa-chevron-left"></i> Previous
            </a></li>
        <li class="page-nav__item"><a rel="next" class="page-nav__link page-nav__link--next" href="zend.memory.memory-manager.html">
                Next <i class="fa fa-chevron-right"></i>
            </a></li>
    </ul>
</nav></div>
<div class="col-md-3 col-xs-12 sidebar">
<div class="subnavigation"><div class="component-selector">
<h5 class="component-selector__subtitle">Version 1.12</h5></div><h4 class="subnavigation__title"><a href="zend.memory.html">Zend_Memory</a></h4><ul class="subnavigation__list">
                
                
                
                
                <li class="subnavigation__list-item subnavigation__list-item--active">
                    <a class="subnavigation__link" href="zend.memory.overview.html">Overview</a>
                </li>
                <li class="subnavigation__list-item">
                    <a class="subnavigation__link" href="zend.memory.memory-manager.html">Memory Manager</a>
                </li>
                <li class="subnavigation__list-item">
                    <a class="subnavigation__link" href="zend.memory.memory-objects.html">Memory Objects</a>
                </li>
            </ul></div></div>

    </div>
</div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-9">
                <h5>Zend Framework</h5>
                <ul>
                    <li><a href="https://framework.zend.com/">framework.zend.com</a></li>
                    <li><a href="https://docs.zendframework.com">docs.zendframework.com</a></li>
                    <li><a href="https://packages.zendframework.com">packages.zendframework.com</a></li>
                    <li><a href="https://apigility.org">apigility.org</a></li>
                    <li><a href="https://getexpressive.org/">getexpressive.org</a></li>
                </ul>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12 text-center">
                <a class="footer__button" href="#page-top"><i class="fa fa-chevron-up" aria-hidden="true"></i></a>
            </div>
        </div>
        <div class="row">
            <div class="col-md-9">
                <h4 class="footer__headline">Copyright</h4>
                <p>© 2006-2019 by <a href="https://www.zend.com/">Zend</a>, a <a href="https://www.roguewave.com/">Rogue Wave Company</a>.</p>
            </div>
            <div class="col-md-3">
                <h4 class="footer__headline">Support</h4>
                <ul class="support__list">
                    <li class="support__list-item">
                        <a href="https://discourse.zendframework.com" class="support__link" title="Forum"><i class="fa fa-comments"></i></a>
                    </li>
                    <li class="support__list-item">
                        <a href="https://zendframework-slack.herokuapp.com" class="support__link" title="Chat"><i class="fa fa-slack"></i></a>
                    </li>
                    <li class="support__list-item">
                        <a href="https://github.com/zendframework" class="support__link" title="Github"><i class="fa fa-github"></i></a>
                    </li>
                    <li class="support__list-item">
                        <a href="https://twitter.com/zfdevteam" class="support__link" title="Twitter"><i class="fa fa-twitter"></i></a>
                    </li>
                    <li class="support__list-item">
                        <a href="https://tinyletter.com/mwopzend" class="support__link" title="Newsletter"><i class="fa fa-envelope"></i></a>
                    </li>
                    <li class="support__list-item">
                        <a href="https://framework.zend.com/blog/feed-rss.xml" class="support__link" title="Blog feed"><i class="fa fa-rss"></i></a>
                    </li>
                    <li class="support__list-item">
                        <a href="https://framework.zend.com/security/feed" class="support__link" title="Security feed"><i class="fa fa-rss-square"></i></a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</footer>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/jquery@2.2.4/dist/jquery.min.js"></script>
<script type="text/javascript" src="https://framework.zend.com/js/scripts-9871b49c70.js"></script>
</body>
</html>
