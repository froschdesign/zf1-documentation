<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
    Introduction - Zend_Ldap &ndash; Documentation of ZF1 - Zend Framework
</title>
    <link rel="stylesheet" href="https://froschdesign.github.io/zend-documentation-showcase/css/styles.css">
    <link rel="stylesheet" href="https://froschdesign.github.io/zf1-documentation/css/main.css">
</head>
<body id="page-top">
<div class="navbar navbar-default" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <span class="navbar-brand">
                <a class="logo-link" href="https://framework.zend.com/" data-tooltip data-placement="bottom" title="Go to the ZF homepage">
                    <img src="https://docs.zendframework.com/tutorials/img/zend-framework-logo.svg" height="28" alt="Zend Framework">
                </a>
            </span>
        </div>

        <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="https://framework.zend.com/about">About</a>
                </li>
                <li>
                    <a href="https://framework.zend.com/downloads">Install</a>
                </li>
                <li class="active">
                    <a href="https://docs.zendframework.com">Documentation</a>
                </li>
                <li>
                    <a href="https://www.zend.com/en/services/training">Training</a>
                </li>
                <li>
                    <a href="https://framework.zend.com/blog">Blog</a>
                </li>
                <li>
                    <a href="https://framework.zend.com/participate">Participate</a>
                </li>
            </ul>
        </div>
    </div>
</div>
<header class="header">
    <div class="container">
        <div class="row">
            <div class="col-xs-8">
                <h1 class="header__title">
                    Documentation
                    <small class="header__subtitle">ZF1</small>
                </h1>
            </div>
        </div>
    </div>
</header>
<div class="container">
    <div class="row">
        
    
<div class="col-md-9 col-xs-12 content" role="main"><p class="alert alert-warning" role="alert">
    <strong>Caution:</strong> The documentation you are viewing is
    for an older version of Zend Framework.<br>
    You can find the documentation of the current version at:
    <br>
    <a href="https://docs.zendframework.com/">
        https://docs.zendframework.com/    </a>
</p>
            <div id="zend.ldap.introduction" class="section">
                <div class="info">
                    <h1 class="title">
                        Introduction
                    </h1>
                </div>
                <p class="para">
                    <span class="classname">Zend_Ldap</span> is a class for performing <acronym class="acronym">LDAP</acronym> operations including but not limited to binding, searching and modifying entries in an <acronym class="acronym">LDAP</acronym> directory.
                </p>
                <div class="section" id="zend.ldap.introduction.theory-of-operations">
                    <div class="info">
                        <h2>
                            Theory of operation
                        </h2>
                    </div>
                    <p class="para">
                        This component currently consists of the main <span class="classname">Zend_Ldap</span> class, that conceptually represents a binding to a single <acronym class="acronym">LDAP</acronym> server and allows for executing operations against a <acronym class="acronym">LDAP</acronym> server such as OpenLDAP or ActiveDirectory (AD) servers. The parameters for binding may be provided explicitly or in the form of an options array. <span class="classname">Zend_Ldap_Node</span> provides an object-oriented interface for single <acronym class="acronym">LDAP</acronym> nodes and can be used to form a basis for an active-record-like interface for a <acronym class="acronym">LDAP</acronym>-based domain model.
                    </p>
                    <p class="para">
                        The component provides several helper classes to perform operations on <acronym class="acronym">LDAP</acronym> entries (<span class="classname">Zend_Ldap_Attribute</span>) such as setting and retrieving attributes (date values, passwords, boolean values, ...), to create and modify <acronym class="acronym">LDAP</acronym> filter strings (<span class="classname">Zend_Ldap_Filter</span>) and to manipulate <acronym class="acronym">LDAP</acronym> distinguished names (DN) (<span class="classname">Zend_Ldap_Dn</span>).
                    </p>
                    <p class="para">
                        Additionally the component abstracts <acronym class="acronym">LDAP</acronym> schema browsing for OpenLDAP and ActiveDirectoy servers <span class="classname">Zend_Ldap_Node_Schema</span> and server information retrieval for OpenLDAP-, ActiveDirectory- and Novell eDirectory servers (<span class="classname">Zend_Ldap_Node_RootDse</span>).
                    </p>
                    <p class="para">
                        Using the <span class="classname">Zend_Ldap</span> class depends on the type of <acronym class="acronym">LDAP</acronym> server and is best summarized with some simple examples.
                    </p>
                    <p class="para">
                        If you are using OpenLDAP, a simple example looks like the following (note that the <em class="emphasis">bindRequiresDn</em> option is important if you are <em class="emphasis">not</em> using AD):
                    </p>
                    <div class="programlisting php">
                        <div class="phpcode">
                            <div class="php" style="font-family: monospace;">
                                <ol>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            <span style="color: #0000ff;">$options</span> = <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">(</span>
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            &nbsp; &nbsp; <span style="color: #ff0000;">'host'</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; =&gt; <span style="color: #ff0000;">'s0.foo.net'</span>,
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            &nbsp; &nbsp; <span style="color: #ff0000;">'username'</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; =&gt; <span style="color: #ff0000;">'CN=user1,DC=foo,DC=net'</span>,
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            &nbsp; &nbsp; <span style="color: #ff0000;">'password'</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; =&gt; <span style="color: #ff0000;">'pass1'</span>,
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            &nbsp; &nbsp; <span style="color: #ff0000;">'bindRequiresDn'</span>&nbsp; &nbsp; =&gt; <span style="color: #000000; font-weight: bold;">true</span>,
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            &nbsp; &nbsp; <span style="color: #ff0000;">'accountDomainName'</span> =&gt; <span style="color: #ff0000;">'foo.net'</span>,
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            &nbsp; &nbsp; <span style="color: #ff0000;">'baseDn'</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; =&gt; <span style="color: #ff0000;">'OU=Sales,DC=foo,DC=net'</span>,
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            <span style="color: #66cc66;">)</span>;
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            <span style="color: #0000ff;">$ldap</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Ldap<span style="color: #66cc66;">(</span><span style="color: #0000ff;">$options</span><span style="color: #66cc66;">)</span>;
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            <span style="color: #0000ff;">$acctname</span> = <span style="color: #0000ff;">$ldap</span>-&gt;<span style="color: #006600;">getCanonicalAccountName</span><span style="color: #66cc66;">(</span><span style="color: #ff0000;">'abaker'</span>,
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Zend_Ldap::<span style="color: #006600;">ACCTNAME_FORM_DN</span><span style="color: #66cc66;">)</span>;
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            <a href="http://www.php.net/echo"><span style="color: #000066;">echo</span></a> <span style="color: #ff0000;">"$acctname<span style="color: #000099; font-weight: bold;">\n</span>"</span>;
                                        </div>
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>
                    <p class="para">
                        If you are using Microsoft AD a simple example is:
                    </p>
                    <div class="programlisting php">
                        <div class="phpcode">
                            <div class="php" style="font-family: monospace;">
                                <ol>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            <span style="color: #0000ff;">$options</span> = <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">(</span>
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            &nbsp; &nbsp; <span style="color: #ff0000;">'host'</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=&gt; <span style="color: #ff0000;">'dc1.w.net'</span>,
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            &nbsp; &nbsp; <span style="color: #ff0000;">'useStartTls'</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; =&gt; <span style="color: #000000; font-weight: bold;">true</span>,
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            &nbsp; &nbsp; <span style="color: #ff0000;">'username'</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=&gt; <span style="color: #ff0000;">'user1@w.net'</span>,
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            &nbsp; &nbsp; <span style="color: #ff0000;">'password'</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=&gt; <span style="color: #ff0000;">'pass1'</span>,
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            &nbsp; &nbsp; <span style="color: #ff0000;">'accountDomainName'</span>&nbsp; &nbsp; &nbsp; =&gt; <span style="color: #ff0000;">'w.net'</span>,
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            &nbsp; &nbsp; <span style="color: #ff0000;">'accountDomainNameShort'</span> =&gt; <span style="color: #ff0000;">'W'</span>,
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            &nbsp; &nbsp; <span style="color: #ff0000;">'baseDn'</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=&gt; <span style="color: #ff0000;">'CN=Users,DC=w,DC=net'</span>,
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            <span style="color: #66cc66;">)</span>;
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            <span style="color: #0000ff;">$ldap</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Ldap<span style="color: #66cc66;">(</span><span style="color: #0000ff;">$options</span><span style="color: #66cc66;">)</span>;
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            <span style="color: #0000ff;">$acctname</span> = <span style="color: #0000ff;">$ldap</span>-&gt;<span style="color: #006600;">getCanonicalAccountName</span><span style="color: #66cc66;">(</span><span style="color: #ff0000;">'bcarter'</span>,
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Zend_Ldap::<span style="color: #006600;">ACCTNAME_FORM_DN</span><span style="color: #66cc66;">)</span>;
                                        </div>
                                    </li>
                                    <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                        <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                            <a href="http://www.php.net/echo"><span style="color: #000066;">echo</span></a> <span style="color: #ff0000;">"$acctname<span style="color: #000099; font-weight: bold;">\n</span>"</span>;
                                        </div>
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>
                    <p class="para">
                        Note that we use the <span class="methodname">getCanonicalAccountName()</span> method to retrieve the account DN here only because that is what exercises the most of what little code is currently present in this class.
                    </p>
                    <div class="section" id="zend.ldap.introduction.theory-of-operations.automatic-username-canonicalization">
                        <div class="info">
                            <h2>
                                Automatic Username Canonicalization When Binding
                            </h2>
                        </div>
                        <p class="para">
                            If <span class="methodname">bind()</span> is called with a non-DN username but <em class="emphasis">bindRequiresDN</em> is <b><tt>TRUE</tt></b> and no username in DN form was supplied as an option, the bind will fail. However, if a username in DN form is supplied in the options array, <span class="classname">Zend_Ldap</span> will first bind with that username, retrieve the account DN for the username supplied to <span class="methodname">bind()</span> and then re-bind with that DN.
                        </p>
                        <p class="para">
                            This behavior is critical to <a href="zend.auth.adapter.ldap.html" class="link"><span class="classname">Zend_Auth_Adapter_Ldap</span></a>, which passes the username supplied by the user directly to <span class="methodname">bind()</span>.
                        </p>
                        <p class="para">
                            The following example illustrates how the non-DN username '<em class="emphasis">abaker</em>' can be used with <span class="methodname">bind()</span>:
                        </p>
                        <div class="programlisting php">
                            <div class="phpcode">
                                <div class="php" style="font-family: monospace;">
                                    <ol>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                <span style="color: #0000ff;">$options</span> = <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">(</span>
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff0000;">'host'</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; =&gt; <span style="color: #ff0000;">'s0.foo.net'</span>,
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff0000;">'username'</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; =&gt; <span style="color: #ff0000;">'CN=user1,DC=foo,DC=net'</span>,
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff0000;">'password'</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; =&gt; <span style="color: #ff0000;">'pass1'</span>,
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff0000;">'bindRequiresDn'</span>&nbsp; &nbsp; =&gt; <span style="color: #000000; font-weight: bold;">true</span>,
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff0000;">'accountDomainName'</span> =&gt; <span style="color: #ff0000;">'foo.net'</span>,
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff0000;">'baseDn'</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; =&gt; <span style="color: #ff0000;">'OU=Sales,DC=foo,DC=net'</span>,
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                <span style="color: #66cc66;">)</span>;
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                <span style="color: #0000ff;">$ldap</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Ldap<span style="color: #66cc66;">(</span><span style="color: #0000ff;">$options</span><span style="color: #66cc66;">)</span>;
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                <span style="color: #0000ff;">$ldap</span>-&gt;<span style="color: #006600;">bind</span><span style="color: #66cc66;">(</span><span style="color: #ff0000;">'abaker'</span>, <span style="color: #ff0000;">'moonbike55'</span><span style="color: #66cc66;">)</span>;
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                <span style="color: #0000ff;">$acctname</span> = <span style="color: #0000ff;">$ldap</span>-&gt;<span style="color: #006600;">getCanonicalAccountName</span><span style="color: #66cc66;">(</span><span style="color: #ff0000;">'abaker'</span>,
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Zend_Ldap::<span style="color: #006600;">ACCTNAME_FORM_DN</span><span style="color: #66cc66;">)</span>;
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                <a href="http://www.php.net/echo"><span style="color: #000066;">echo</span></a> <span style="color: #ff0000;">"$acctname<span style="color: #000099; font-weight: bold;">\n</span>"</span>;
                                            </div>
                                        </li>
                                    </ol>
                                </div>
                            </div>
                        </div>
                        <p class="para">
                            The <span class="methodname">bind()</span> call in this example sees that the username '<em class="emphasis">abaker</em>' is not in DN form, finds <em class="emphasis">bindRequiresDn</em> is <b><tt>TRUE</tt></b>, uses '<strong class="command">CN=user1,DC=foo,DC=net</strong>' and '<em class="emphasis">pass1</em>' to bind, retrieves the DN for '<em class="emphasis">abaker</em>', unbinds and then rebinds with the newly discovered '<strong class="command">CN=Alice Baker,OU=Sales,DC=foo,DC=net</strong>'.
                        </p>
                    </div>
                    <div class="section" id="zend.ldap.introduction.theory-of-operations.account-name-canonicalization">
                        <div class="info">
                            <h2>
                                Account Name Canonicalization
                            </h2>
                        </div>
                        <p class="para">
                            The <em class="emphasis">accountDomainName</em> and <em class="emphasis">accountDomainNameShort</em> options are used for two purposes: (1) they facilitate multi-domain authentication and failover capability, and (2) they are also used to canonicalize usernames. Specifically, names are canonicalized to the form specified by the <em class="emphasis">accountCanonicalForm</em> option. This option may one of the following values:
                        </p>
                        <div class="info"></div>
                        <table class="doctable table">
                            <caption>
                                <b>Options for accountCanonicalForm</b>
                            </caption>
                            <thead valign="middle">
                                <tr valign="middle">
                                    <th>
                                        Name
                                    </th>
                                    <th>
                                        Value
                                    </th>
                                    <th>
                                        Example
                                    </th>
                                </tr>
                            </thead>
                            <tbody valign="middle" class="tbody">
                                <tr valign="middle">
                                    <td align="left">
                                        <b><tt>ACCTNAME_FORM_DN</tt></b>
                                    </td>
                                    <td align="left">
                                        1
                                    </td>
                                    <td align="left">
                                        CN=Alice Baker,CN=Users,DC=example,DC=com
                                    </td>
                                </tr>
                                <tr valign="middle">
                                    <td align="left">
                                        <b><tt>ACCTNAME_FORM_USERNAME</tt></b>
                                    </td>
                                    <td align="left">
                                        2
                                    </td>
                                    <td align="left">
                                        abaker
                                    </td>
                                </tr>
                                <tr valign="middle">
                                    <td align="left">
                                        <b><tt>ACCTNAME_FORM_BACKSLASH</tt></b>
                                    </td>
                                    <td align="left">
                                        3
                                    </td>
                                    <td align="left">
                                        EXAMPLE\abaker
                                    </td>
                                </tr>
                                <tr valign="middle">
                                    <td align="left">
                                        <b><tt>ACCTNAME_FORM_PRINCIPAL</tt></b>
                                    </td>
                                    <td align="left">
                                        4
                                    </td>
                                    <td align="left">
                                        <var class="filename">abaker@example.com</var>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <p class="para">
                            The default canonicalization depends on what account domain name options were supplied. If <em class="emphasis">accountDomainNameShort</em> was supplied, the default <em class="emphasis">accountCanonicalForm</em> value is <b><tt>ACCTNAME_FORM_BACKSLASH</tt></b>. Otherwise, if <em class="emphasis">accountDomainName</em> was supplied, the default is <b><tt>ACCTNAME_FORM_PRINCIPAL</tt></b>.
                        </p>
                        <p class="para">
                            Account name canonicalization ensures that the string used to identify an account is consistent regardless of what was supplied to <span class="methodname">bind()</span>. For example, if the user supplies an account name of <var class="filename">abaker@example.com</var> or just <em class="emphasis">abaker</em> and the <em class="emphasis">accountCanonicalForm</em> is set to 3, the resulting canonicalized name would be <em class="emphasis">EXAMPLE\abaker</em>.
                        </p>
                    </div>
                    <div class="section" id="zend.ldap.introduction.theory-of-operations.multi-domain-failover">
                        <div class="info">
                            <h2>
                                Multi-domain Authentication and Failover
                            </h2>
                        </div>
                        <p class="para">
                            The <span class="classname">Zend_Ldap</span> component by itself makes no attempt to authenticate with multiple servers. However, <span class="classname">Zend_Ldap</span> is specifically designed to handle this scenario gracefully. The required technique is to simply iterate over an array of arrays of serve options and attempt to bind with each server. As described above <span class="methodname">bind()</span> will automatically canonicalize each name, so it does not matter if the user passes <var class="filename">abaker@foo.net</var> or <em class="emphasis">W\bcarter</em> or <em class="emphasis">cdavis</em> - the <span class="methodname">bind()</span> method will only succeed if the credentials were successfully used in the bind.
                        </p>
                        <p class="para">
                            Consider the following example that illustrates the technique required to implement multi-domain authentication and failover:
                        </p>
                        <div class="programlisting php">
                            <div class="phpcode">
                                <div class="php" style="font-family: monospace;">
                                    <ol>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                <span style="color: #0000ff;">$acctname</span> = <span style="color: #ff0000;">'W<span style="color: #000099; font-weight: bold;">\\</span>user2'</span>;
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                <span style="color: #0000ff;">$password</span> = <span style="color: #ff0000;">'pass2'</span>;
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                &nbsp;
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                <span style="color: #0000ff;">$multiOptions</span> = <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">(</span>
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                &nbsp; &nbsp; <span style="color: #ff0000;">'server1'</span> =&gt; <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">(</span>
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff0000;">'host'</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=&gt; <span style="color: #ff0000;">'s0.foo.net'</span>,
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff0000;">'username'</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=&gt; <span style="color: #ff0000;">'CN=user1,DC=foo,DC=net'</span>,
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff0000;">'password'</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=&gt; <span style="color: #ff0000;">'pass1'</span>,
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff0000;">'bindRequiresDn'</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=&gt; <span style="color: #000000; font-weight: bold;">true</span>,
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff0000;">'accountDomainName'</span>&nbsp; &nbsp; &nbsp; =&gt; <span style="color: #ff0000;">'foo.net'</span>,
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff0000;">'accountDomainNameShort'</span> =&gt; <span style="color: #ff0000;">'FOO'</span>,
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff0000;">'accountCanonicalForm'</span>&nbsp; &nbsp;=&gt; <span style="color: #cc66cc;">4</span>, <span style="color: #808080; font-style: italic;">// ACCT_FORM_PRINCIPAL</span>
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff0000;">'baseDn'</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=&gt; <span style="color: #ff0000;">'OU=Sales,DC=foo,DC=net'</span>,
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                &nbsp; &nbsp; <span style="color: #66cc66;">)</span>,
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                &nbsp; &nbsp; <span style="color: #ff0000;">'server2'</span> =&gt; <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">(</span>
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff0000;">'host'</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=&gt; <span style="color: #ff0000;">'dc1.w.net'</span>,
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff0000;">'useSsl'</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=&gt; <span style="color: #000000; font-weight: bold;">true</span>,
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff0000;">'username'</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=&gt; <span style="color: #ff0000;">'user1@w.net'</span>,
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff0000;">'password'</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=&gt; <span style="color: #ff0000;">'pass1'</span>,
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff0000;">'accountDomainName'</span>&nbsp; &nbsp; &nbsp; =&gt; <span style="color: #ff0000;">'w.net'</span>,
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff0000;">'accountDomainNameShort'</span> =&gt; <span style="color: #ff0000;">'W'</span>,
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff0000;">'accountCanonicalForm'</span>&nbsp; &nbsp;=&gt; <span style="color: #cc66cc;">4</span>, <span style="color: #808080; font-style: italic;">// ACCT_FORM_PRINCIPAL</span>
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff0000;">'baseDn'</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=&gt; <span style="color: #ff0000;">'CN=Users,DC=w,DC=net'</span>,
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                &nbsp; &nbsp; <span style="color: #66cc66;">)</span>,
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                <span style="color: #66cc66;">)</span>;
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                &nbsp;
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                <span style="color: #0000ff;">$ldap</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Ldap<span style="color: #66cc66;">(</span><span style="color: #66cc66;">)</span>;
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                &nbsp;
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                <span style="color: #b1b100;">foreach</span> <span style="color: #66cc66;">(</span><span style="color: #0000ff;">$multiOptions</span> <span style="color: #b1b100;">as</span> <span style="color: #0000ff;">$name</span> =&gt; <span style="color: #0000ff;">$options</span><span style="color: #66cc66;">)</span> <span style="color: #66cc66;">{</span>
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                &nbsp;
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                &nbsp; &nbsp; <a href="http://www.php.net/echo"><span style="color: #000066;">echo</span></a> <span style="color: #ff0000;">"Trying to bind using server options for '$name'<span style="color: #000099; font-weight: bold;">\n</span>"</span>;
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                &nbsp;
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                &nbsp; &nbsp; <span style="color: #0000ff;">$ldap</span>-&gt;<span style="color: #006600;">setOptions</span><span style="color: #66cc66;">(</span><span style="color: #0000ff;">$options</span><span style="color: #66cc66;">)</span>;
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                &nbsp; &nbsp; try <span style="color: #66cc66;">{</span>
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #0000ff;">$ldap</span>-&gt;<span style="color: #006600;">bind</span><span style="color: #66cc66;">(</span><span style="color: #0000ff;">$acctname</span>, <span style="color: #0000ff;">$password</span><span style="color: #66cc66;">)</span>;
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #0000ff;">$acctname</span> = <span style="color: #0000ff;">$ldap</span>-&gt;<span style="color: #006600;">getCanonicalAccountName</span><span style="color: #66cc66;">(</span><span style="color: #0000ff;">$acctname</span><span style="color: #66cc66;">)</span>;
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                &nbsp; &nbsp; &nbsp; &nbsp; <a href="http://www.php.net/echo"><span style="color: #000066;">echo</span></a> <span style="color: #ff0000;">"SUCCESS: authenticated $acctname<span style="color: #000099; font-weight: bold;">\n</span>"</span>;
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #b1b100;">return</span>;
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                &nbsp; &nbsp; <span style="color: #66cc66;">}</span> catch <span style="color: #66cc66;">(</span>Zend_Ldap_Exception <span style="color: #0000ff;">$zle</span><span style="color: #66cc66;">)</span> <span style="color: #66cc66;">{</span>
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                &nbsp; &nbsp; &nbsp; &nbsp; <a href="http://www.php.net/echo"><span style="color: #000066;">echo</span></a> <span style="color: #ff0000;">'&nbsp; '</span> . <span style="color: #0000ff;">$zle</span>-&gt;<span style="color: #006600;">getMessage</span><span style="color: #66cc66;">(</span><span style="color: #66cc66;">)</span> . <span style="color: #ff0000;">"<span style="color: #000099; font-weight: bold;">\n</span>"</span>;
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #b1b100;">if</span> <span style="color: #66cc66;">(</span><span style="color: #0000ff;">$zle</span>-&gt;<span style="color: #006600;">getCode</span><span style="color: #66cc66;">(</span><span style="color: #66cc66;">)</span> === Zend_Ldap_Exception::<span style="color: #006600;">LDAP_X_DOMAIN_MISMATCH</span><span style="color: #66cc66;">)</span> <span style="color: #66cc66;">{</span>
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #b1b100;">continue</span>;
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">}</span>
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                &nbsp; &nbsp; <span style="color: #66cc66;">}</span>
                                            </div>
                                        </li>
                                        <li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;">
                                            <div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">
                                                <span style="color: #66cc66;">}</span>
                                            </div>
                                        </li>
                                    </ol>
                                </div>
                            </div>
                        </div>
                        <p class="para">
                            If the bind fails for any reason, the next set of server options is tried.
                        </p>
                        <p class="para">
                            The <span class="methodname">getCanonicalAccountName()</span> call gets the canonical account name that the application would presumably use to associate data with such as preferences. The <em class="emphasis">accountCanonicalForm = 4</em> in all server options ensures that the canonical form is consistent regardless of which server was ultimately used.
                        </p>
                        <p class="para">
                            The special <b><tt>LDAP_X_DOMAIN_MISMATCH</tt></b> exception occurs when an account name with a domain component was supplied (e.g., <var class="filename">abaker@foo.net</var> or <em class="emphasis">FOO\abaker</em> and not just <em class="emphasis">abaker</em>) but the domain component did not match either domain in the currently selected server options. This exception indicates that the server is not an authority for the account. In this case, the bind will not be performed, thereby eliminating unnecessary communication with the server. Note that the <em class="emphasis">continue</em> instruction has no effect in this example, but in practice for error handling and debugging purposes, you will probably want to check for <b><tt>LDAP_X_DOMAIN_MISMATCH</tt></b>
                            as well as <b><tt>LDAP_NO_SUCH_OBJECT</tt></b> and <b><tt>LDAP_INVALID_CREDENTIALS</tt></b>.
                        </p>
                        <p class="para">
                            The above code is very similar to code used within <a href="zend.auth.adapter.ldap.html" class="link"><span class="classname">Zend_Auth_Adapter_Ldap</span></a>. In fact, we recommend that you simply use that authentication adapter for multi-domain + failover <acronym class="acronym">LDAP</acronym> based authentication (or copy the code).
                        </p>
                    </div>
                </div>
            </div>
            <nav>
    <ul class="page-nav hidden-print">
        <li class="page-nav__item"><a rel="prev" class="page-nav__link page-nav__link--prev" href="zend.ldap.html">
                <i class="fa fa-chevron-left"></i> Previous
            </a></li>
        <li class="page-nav__item"><a rel="next" class="page-nav__link page-nav__link--next" href="zend.ldap.api.html">
                Next <i class="fa fa-chevron-right"></i>
            </a></li>
    </ul>
</nav></div>
<div class="col-md-3 col-xs-12 sidebar">
<div class="subnavigation"><div class="component-selector">
<h5 class="component-selector__subtitle">Version 1.12</h5></div><h4 class="subnavigation__title"><a href="zend.ldap.html">Zend_Ldap</a></h4><ul class="subnavigation__list">
                
                
                
                
                <li class="subnavigation__list-item subnavigation__list-item--active">
                    <a class="subnavigation__link" href="zend.ldap.introduction.html">Introduction</a>
                </li>
                <li class="subnavigation__list-item">
                    <a class="subnavigation__link" href="zend.ldap.api.html">API overview</a>
                </li>
                <li class="subnavigation__list-item">
                    <a class="subnavigation__link" href="zend.ldap.usage.html">Usage Scenarios</a>
                </li>
                <li class="subnavigation__list-item">
                    <a class="subnavigation__link" href="zend.ldap.tools.html">Tools</a>
                </li>
                <li class="subnavigation__list-item">
                    <a class="subnavigation__link" href="zend.ldap.node.html">Object oriented access to the LDAP tree using Zend_Ldap_Node</a>
                </li>
                <li class="subnavigation__list-item">
                    <a class="subnavigation__link" href="zend.ldap.server.html">Getting information from the LDAP server</a>
                </li>
                <li class="subnavigation__list-item">
                    <a class="subnavigation__link" href="zend.ldap.ldif.html">Serializing LDAP data to and from LDIF</a>
                </li>
            </ul></div></div>

    </div>
</div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-9">
                <h5>Zend Framework</h5>
                <ul>
                    <li><a href="https://framework.zend.com/">framework.zend.com</a></li>
                    <li><a href="https://docs.zendframework.com">docs.zendframework.com</a></li>
                    <li><a href="https://packages.zendframework.com">packages.zendframework.com</a></li>
                    <li><a href="https://apigility.org">apigility.org</a></li>
                    <li><a href="https://getexpressive.org/">getexpressive.org</a></li>
                </ul>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12 text-center">
                <a class="footer__button" href="#page-top"><i class="fa fa-chevron-up" aria-hidden="true"></i></a>
            </div>
        </div>
        <div class="row">
            <div class="col-md-9">
                <h4 class="footer__headline">Copyright</h4>
                <p>© 2006-2019 by <a href="https://www.zend.com/">Zend</a>, a <a href="https://www.roguewave.com/">Rogue Wave Company</a>.</p>
            </div>
            <div class="col-md-3">
                <h4 class="footer__headline">Support</h4>
                <ul class="support__list">
                    <li class="support__list-item">
                        <a href="https://discourse.zendframework.com" class="support__link" title="Forum"><i class="fa fa-comments"></i></a>
                    </li>
                    <li class="support__list-item">
                        <a href="https://zendframework-slack.herokuapp.com" class="support__link" title="Chat"><i class="fa fa-slack"></i></a>
                    </li>
                    <li class="support__list-item">
                        <a href="https://github.com/zendframework" class="support__link" title="Github"><i class="fa fa-github"></i></a>
                    </li>
                    <li class="support__list-item">
                        <a href="https://twitter.com/zfdevteam" class="support__link" title="Twitter"><i class="fa fa-twitter"></i></a>
                    </li>
                    <li class="support__list-item">
                        <a href="https://tinyletter.com/mwopzend" class="support__link" title="Newsletter"><i class="fa fa-envelope"></i></a>
                    </li>
                    <li class="support__list-item">
                        <a href="https://framework.zend.com/blog/feed-rss.xml" class="support__link" title="Blog feed"><i class="fa fa-rss"></i></a>
                    </li>
                    <li class="support__list-item">
                        <a href="https://framework.zend.com/security/feed" class="support__link" title="Security feed"><i class="fa fa-rss-square"></i></a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</footer>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/jquery@2.2.4/dist/jquery.min.js"></script>
<script type="text/javascript" src="https://framework.zend.com/js/scripts-9871b49c70.js"></script>
</body>
</html>
